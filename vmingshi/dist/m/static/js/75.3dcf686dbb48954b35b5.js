webpackJsonp([75],{G8rd:function(t,s){},cA8K:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Ty/O"),i=a("s1yA"),n={data:function(){return{flag:!1,tabActive:"0",is_show:!0,page:1,pageCount:1,list:[],status:-1,rank:-1}},activated:function(){this.getList()},methods:{handleClick:function(t){1==t&&(this.status=1,this.rank=-1),2==t&&(this.status=2,this.rank=-1),3==t&&(this.rank=1),4==t&&(this.rank=2),5==t&&(this.rank=3),6==t&&(this.rank=4),0==t&&(this.rank=-1,this.status=-1),this.getList()},popup:function(t,s){var a=this;this.$actionSheet({list:[{name:"编辑活动",type:"1"},{name:"报名管理",type:"2"},{name:"签到管理",type:"3"},{name:"删除活动",type:"4"}]}).then(function(e){4==e.type?a.$confirm("是否确认删除？").then(function(){Object(i.c)({courseid:t}).then(function(t){"success"==t.result&&(a.list.splice(s,1),a.$toast("删除成功","success"))})}):3==e.type?a.$router.push("/activityManage?id="+t+"&type=2"):2==e.type?a.$router.push("/activityManage?id="+t+"&type=1"):1==e.type&&a.$router.push("/issueActivity?id="+t)})},getList:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=s,Object(e.b)({p:s,maxperpage:10,status:this.status,rank:this.rank}).then(function(a){t.pageCount=a.page.total_pages,t.list=1==s?a.list:t.list.concat(a.list),t.flag=!0})},onPageChange:function(t){this.getList(t)},newcourse:function(){this.$router.push("/issueActivity")},gotodel:function(t){this.$router.push("/activity/"+t)}}},c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bigpage"},[t.flag?a("ks-page-scroll-container",{attrs:{page:t.page,"page-count":t.pageCount},on:{"page-change":t.onPageChange}},[a("div",{staticClass:"pages"},[a("ks-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tabActive,callback:function(s){t.tabActive=s},expression:"tabActive"}},[a("ks-tab-pane",{attrs:{label:"全部",name:"0"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"未发布",name:"1"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"已发布",name:"2"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"即将开始",name:"3"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"报名中",name:"4"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"进行中",name:"5"}}),t._v(" "),a("ks-tab-pane",{attrs:{label:"已结束",name:"6"}})],1),t._v(" "),t._l(t.list,function(s,e){return a("div",{key:e,staticClass:"courseList"},[a("div",{staticClass:"courseLists"},[a("div",{staticClass:"courseList-msg"},[a("div",{staticClass:"courseList-msg__img"},[a("ks-image",{attrs:{src:s.defaultpic,alt:""}})],1)]),t._v(" "),a("div",{staticClass:"courseList-msg__content"},[a("p",{on:{click:function(a){return t.gotodel(s.courseid)}}},[t._v(t._s(s.title))]),t._v(" "),a("span",[t._v(t._s(s.enddate)+"-"+t._s(s.begindate))]),t._v(" "),a("span",[t._v("地点:"+t._s(s.address))])])]),t._v(" "),a("div",{staticClass:"courseList-foot ks-line ks-line--top"},[a("div",{staticClass:"courseList-foot_-time"},[5==s.rank?a("span",{staticStyle:{color:"#ff0000"}},[t._v("未发布")]):t._e(),t._v(" "),1==s.rank?a("span",{staticStyle:{color:"#ff9933"}},[t._v("即将开始")]):t._e(),2==s.rank?a("span",{staticStyle:{color:"#ff66cc"}},[t._v("报名中")]):t._e(),t._v(" "),3==s.rank?a("span",{staticStyle:{color:"#66cc66"}},[t._v("进行中")]):t._e(),4==s.rank?a("span",{staticStyle:{color:"#999999"}},[t._v("已结束")]):t._e()]),t._v(" "),a("div",{staticClass:"courseList-foot_-switch"},[a("ks-button",{staticClass:"ks-ml5",on:{click:function(a){return t.popup(s.courseid,e)}}},[t._v("活动管理")])],1)])])}),t._v(" "),t.list.length?t._e():a("ks-empty",{attrs:{msg:"当前没有更多数据~"}}),t._v(" "),a("div",{staticClass:"newcourse"},[a("ks-button",{staticClass:"ks-btn",attrs:{type:"success",width:"95%"},on:{click:function(s){return t.newcourse()}}},[t._v("创建活动")])],1)],2)]):t._e()],1)},staticRenderFns:[]};var o=a("C7Lr")(n,c,!1,function(t){a("G8rd")},"data-v-6a69267a",null);s.default=o.exports}});