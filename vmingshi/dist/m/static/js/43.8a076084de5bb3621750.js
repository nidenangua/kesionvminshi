webpackJsonp([43],{"+bTI":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("AorJ"),i=s("jm4A"),a=(s("mZiP"),{components:{MediaUpload:n.a},name:"MentoringQuiz",data:function(){return{minHeight:window.innerHeight,is_buy:"0",addAsk:null,status:""}},methods:{onMediaUploadChange:function(t){"image"==t.type&&(this.addAsk.type="1"),"video"==t.type&&(this.addAsk.type="2"),"audio"==t.type&&(this.addAsk.type="3"),this.addAsk.info=t.info,0==this.addAsk.info.length&&(this.addAsk.type="")},publish:function(){var t=this,e={type:this.addAsk.type,title:this.addAsk.title,content:this.addAsk.content,info:this.addAsk.info,is_show:this.addAsk.is_show};Object(i.b)(e).then(function(e){"success"===e.result&&(1==t.status?(t.$toast("提问发表成功","success"),setTimeout(function(){t.$router.push({path:"/Mentoring"})},2e3)):(t.$toast("提问发表成功,请等待审核","success"),setTimeout(function(){t.$router.push({path:"/Mentoring"})},2e3)))})},jumpvip:function(){this.$router.push("/user/mycard")}},activated:function(){var t=this;this.$route.query.id;this.addAsk={title:"",content:"",info:[],type:"",is_show:!0},document.title="提问",Object(i.h)().then(function(e){t.is_buy=e.is_buy,t.status=e.status})},deactivated:function(){this.addAsk=null}}),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.addAsk?s("div",{style:{minHeight:t.minHeight+"px",background:"#fff"}},[s("div",{staticClass:"ks-border"},[0===t.is_buy?s("div",{staticClass:"ks-alert ks-alert--error"},[t._v("\n      你还不是答疑会员，只能提问一次\n      "),s("span",{on:{click:t.jumpvip}},[t._v("立即开通会员>>")])]):t._e(),t._v(" "),s("div",{staticClass:"ks-textarea ks-pt10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addAsk.title,expression:"addAsk.title"}],staticClass:"ks-textarea__inner",staticStyle:{height:"80px"},attrs:{autocomplete:"off",placeholder:"请输入问题",maxlength:"50"},domProps:{value:t.addAsk.title},on:{input:function(e){e.target.composing||t.$set(t.addAsk,"title",e.target.value)}}}),t._v(" "),s("span",{staticClass:"ks-input__count"},[t._v(t._s(t.addAsk.title.length)+"/50")])]),t._v(" "),s("div",{staticClass:"ks-textarea ks-pt10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addAsk.content,expression:"addAsk.content"}],staticClass:"ks-textarea__inner",staticStyle:{height:"160px"},attrs:{autocomplete:"off",placeholder:"添加问题描述（选填）",maxlength:"300"},domProps:{value:t.addAsk.content},on:{input:function(e){e.target.composing||t.$set(t.addAsk,"content",e.target.value)}}}),t._v(" "),s("span",{staticClass:"ks-input__count"},[t._v(t._s(t.addAsk.content.length)+"/300")])]),t._v(" "),s("div",[s("media-upload",{attrs:{info:t.addAsk.info},on:{change:t.onMediaUploadChange}})],1),t._v(" "),s("div",[s("span",{staticClass:"ks-word ks-fl"},[t._v("是否前台展示")]),t._v(" "),s("ks-switch",{staticClass:"ks-fl",model:{value:t.addAsk.is_show,callback:function(e){t.$set(t.addAsk,"is_show",e)},expression:"addAsk.is_show"}})],1),t._v(" "),s("div",{staticClass:"ks-word--lightgray ks-pt10"},[t._v("选择关闭，则该问题仅自己和老师可见")]),t._v(" "),s("ks-button",{staticClass:"ks-mt30",attrs:{type:"primary",width:"100%"},on:{click:t.publish}},[t._v("发表")])],1)]):t._e()},staticRenderFns:[]};var r=s("C7Lr")(a,o,!1,function(t){s("+f3r")},"data-v-18f5eb0c",null);e.default=r.exports},"+f3r":function(t,e){},mZiP:function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}}});