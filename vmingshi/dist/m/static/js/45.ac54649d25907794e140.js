webpackJsonp([45],{NX6O:function(t,e){},r9ns:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI3OEQyMThDMDI5QzExRUE5M0RGQUE4NTI5QTQ3RkVDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI3OEQyMThEMDI5QzExRUE5M0RGQUE4NTI5QTQ3RkVDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Mjc4RDIxOEEwMjlDMTFFQTkzREZBQTg1MjlBNDdGRUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Mjc4RDIxOEIwMjlDMTFFQTkzREZBQTg1MjlBNDdGRUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7MuX2lAAAA7klEQVR42uyYMQrCMBSGG+3oLB6kFxAy6llE1652yNTVc9TdzUnBwzg6xBfIAxEa05gGg/+DH0JevvAl0AwVWusip5oUmRWEIQxhCEMYwhCGMIR/uUqlVNY3vKacKHcbM14N2G90/lV4T+koS8rMxoyPtvepkvAsbE5ROzar7en7KhnPwjuPG9g6esl4Fq48gCqwF5Uf8qyJLz/wKDwLXz2Ai6OXjGfh1gNoA3tReRY2T0fjWNzYNX2VjJ9KKXnSPNI3yoIypzwoZ8qGcvC4gSR8+QZ1NqE1Oi/wbw3CEIYwhCEMYQhDGMJ/LPwUYACJe0d1SK01HQAAAABJRU5ErkJggg=="},yScg:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("s1yA"),i={data:function(){return{list:[],page:1,pageCount:2,totalput:0,flag:!1,msg:"",courseType:0,courseID:"",coursenum:1}},methods:{gohome:function(){this.$router.push("/courseIndex")},popup:function(t,e,s){var i=this;this.$actionSheet({list:[{name:"编辑课时",type:"1"},{name:"删除",type:"2"}]}).then(function(c){2==c.type?i.$confirm("是否确认删除课时"+t+"？").then(function(){Object(o.d)({courseid:i.msg.courseid,chapterid:e}).then(function(t){i.list.splice(s,1),i.totalput--,console.log(i.list,s),i.$toast("删除成功")})}):i.$router.push("/addCourse?courseHours=1&courseType="+i.courseType+"&id="+i.msg.courseid+"&hoursid="+e)})},gotoAdd:function(){if(this.list.length==this.msg.expecthour)return this.$toast("已达到最大课时");this.$router.push("/addcourse?courseType="+this.courseType+"&courseHours=1&id="+this.courseID)},getlist:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e;var s=this.$route.query.id;Object(o.i)({p:e,maxperpage:15,courseid:s}).then(function(s){t.courseID=s.course.courseid,t.courseType=s.course.courseType,t.pageCount=s.page.total_pages,t.totalput=s.page.totalput,t.list=1==e?s.list:t.list.concat(s.list),t.msg=s.course,t.flag=!0})},onPageChange:function(t){this.getlist(t)}},created:function(){this.getlist()},watch:{$route:{handler:function(){console.log(this.$route.query.id),this.$route.query.id&&"manageCourse"==this.$route.name&&this.getlist()}}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.flag?o("div",{staticClass:"big"},[t.totalput?o("ks-page-scroll-container",{attrs:{page:t.page,"page-count":t.pageCount},on:{"page-change":t.onPageChange}},[o("div",{staticClass:"title"},[t._v("已更新"+t._s(t.totalput)+"课时/共"+t._s(t.msg.expecthour)+"课时")]),t._v(" "),t._l(t.list,function(e,i){return o("div",{key:i,staticClass:"course"},[o("span",[t._v("课时"+t._s(i+1))]),t._v(" "),o("span",{staticClass:"course-name"},[o("span",{staticClass:"course-name__left"},[t._v(t._s(e.title))]),t._v(" "),2!=t.msg.courseType?o("span",[e.json&&0!=e.json.is_audition&&3==t.msg.courseType?o("span",{staticClass:"course-can"},[t._v("可试听")]):t._e(),t._v(" "),0!=e.freeplay&&3!=t.msg.courseType?o("span",{staticClass:"course-can"},[t._v("可试看")]):t._e()]):t._e()]),t._v(" "),o("img",{attrs:{src:s("r9ns"),alt:""},on:{click:function(s){return t.popup(e.title,e.chapterid,i)}}})])})],2):o("ks-empty",{attrs:{type:"nolesson",msg:"暂时还没有课程~"}}),t._v(" "),o("div",{staticClass:"addcourse"},[o("ks-button",{attrs:{type:"white",width:"25%"},on:{click:t.gohome}},[t._v("返回")]),t._v(" "),o("ks-button",{attrs:{type:"success",width:"69%"},on:{click:t.gotoAdd}},[t._v("添加课时")])],1)],1):t._e()},staticRenderFns:[]};var n=s("C7Lr")(i,c,!1,function(t){s("NX6O")},"data-v-0d87aa8c",null);e.default=n.exports}});