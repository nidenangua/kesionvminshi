webpackJsonp([94],{DEQ5:function(t,s){},Plo7:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("BXtI"),i={name:"PayResult",data:function(){return{loading:!1,payResult:!0,detail:null,status:""}},computed:{formatTimestamp:function(){return function(t){var s=new Date(parseInt(t)),e=s.getFullYear(),a=s.getMonth()+1,i=s.getDate(),c=s.getHours(),n=s.getMinutes();return e+"."+(a=a<10?"0"+a:a)+"."+(i=i<10?"0"+i:i)+" "+(c=c<10?"0"+c:c)+":"+(n=n<10?"0"+n:n)}}},activated:function(){var t=this;document.title="报名结果",this.status=this.$route.params.status,this.loading=!1,Object(a.k)({id:this.$route.query.id}).then(function(s){(s.result="success")&&(t.detail=s.detail,0==s.detail.ticket_info.chargetype?t.payResult=!0:3==s.detail.status||1==s.detail.status?t.payResult=!0:t.payResult=!1,t.loading=!0)})},methods:{checkTicket:function(){this.payResult?this.$router.push({name:"CheckTickets",params:{id:this.activityId},query:{id:this.$route.query.id}}):console.log("继续支付")},backHomePage:function(){this.payResult?this.$router.push({name:"ActivityDetail"}):this.$router.push("/")}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.loading?e("div",{staticClass:"ks-bg-white result"},[e("div",{staticClass:"ks-text-center result-container"},[e("div",{staticClass:"checkmark",class:t.payResult?"":"checkmark__fail"},[e("i",{staticClass:"ks-icon",class:t.payResult?"ks-icon-checkmark-circle-":"ks-icon-alert-circle"})]),t._v(" "),0==t.$route.query.status?e("div",{staticClass:"ks-fz16 title"},[t._v("等待审核")]):e("div",{staticClass:"ks-fz16 title"},[t._v(t._s(t.payResult?"报名成功":"支付失败"))]),t._v(" "),t.payResult?[e("div",{staticClass:"ks-color-info ks-fz14 gray"},[e("span",[t._v("您购买的票种为")]),t._v(" "),e("span",{staticClass:"ticket-cate"},[t._v(t._s(t.detail.ticket_info.title))])]),t._v(" "),e("div",{staticClass:"ks-color-info ks-fz14 gray"},[e("span",[t._v("有效期为:")]),t._v(" "),e("span",[t._v(t._s(t.formatTimestamp(t.detail.ticket_info.effective_date[0]))+"-"+t._s(t.formatTimestamp(t.detail.ticket_info.effective_date[1])))])])]:e("div",{staticClass:"ks-color-info ks-fz14 gray",class:t.payResult?"":"gray__fail"},[t._v("\n      支付出现问题, 您可以选择继续支付, 或者到\n      "),e("span",{staticClass:"nopay"},[t._v("未支付订单")]),t._v("页面完成支付\n    ")]),t._v(" "),0!=t.$route.query.status?e("ks-button",{staticClass:"ks-mt20 success-btn",attrs:{type:"success",width:"100%"},on:{click:t.checkTicket}},[t._v(t._s(t.payResult?"查看票券":"继续支付"))]):t._e(),t._v(" "),1!=t.$route.query.miniprogram?e("ks-button",{staticClass:"ks-mt20 back-btn",attrs:{width:"100%"},on:{click:t.backHomePage}},[t._v(t._s(t.payResult?"查看活动详情":"返回首页"))]):t._e()],2),t._v(" "),e("store-footer",{staticClass:"footer"})],1):t._e()},staticRenderFns:[]};var n=e("C7Lr")(i,c,!1,function(t){e("DEQ5")},"data-v-2114fe30",null);s.default=n.exports}});