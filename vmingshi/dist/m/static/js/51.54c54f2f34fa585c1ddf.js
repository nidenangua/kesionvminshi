webpackJsonp([51],{"4mNt":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("vMJZ"),n={data:function(){return{tabActive:0,value1:0,option1:[{text:"全部分类",value:0}],tabList:[{name:"全部",value:0}],pageFlag:!1,list:[],page:1,pageCount:1,groupid:0,classid:0}},methods:{handleClick:function(t){this.groupid=t,this.studentList()},dropdown:function(t){this.classid=t,this.studentList()},studentList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,Object(s.G)({p:e,maxperpage:10,keyword:this.$route.query.key,groupid:this.groupid,extuserid:this.classid}).then(function(a){a.list.map(function(t){1==t.status?t.flag=!0:t.flag=!1}),t.pageCount=a.page.total_pages,t.list=1==e?a.list:t.list.concat(a.list)})},onPageChange:function(t){this.studentList(t)},changeFlag:function(t){Object(s.D)({userid:t})}},computed:{key:function(){return this.$route.query.key}},watch:{key:function(){this.studentList()}},created:function(){var t=this;Object(s.R)().then(function(e){e.list.map(function(e){t.option1.push({text:e.username,value:e.userid})})}),Object(s.B)().then(function(e){e.data.map(function(e){t.tabList.push({name:e.name,value:e.id})}),t.pageFlag=!0}),this.studentList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageFlag?a("div",{staticClass:"page"},[a("ks-page-scroll-container",{attrs:{page:t.page,"page-count":t.pageCount},on:{"page-change":t.onPageChange}},[a("div",{staticClass:"student"},[a("div",{staticClass:"student-head"},[a("kd-search",{staticClass:"search",attrs:{placeholder:"搜索学员"}}),t._v(" "),a("van-dropdown-menu",[a("van-dropdown-item",{staticClass:"option1",attrs:{options:t.option1},on:{change:t.dropdown},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)],1),t._v(" "),a("ks-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},t._l(t.tabList,function(t,e){return a("ks-tab-pane",{key:e,attrs:{label:t.name,name:t.value}})}),1)],1),t._v(" "),t._l(t.list,function(e,s){return a("div",{key:s,staticClass:"accountList"},[a("div",{staticClass:"accountList-msg"},[a("div",{staticClass:"accountList-msg__left"},[a("ks-image",{attrs:{src:e.head}}),t._v(" "),a("span",[t._v(t._s(e.username))])],1),t._v(" "),a("div",{staticStyle:{height:"20px"},on:{click:function(a){return t.changeFlag(e.userid)}}},[a("ks-switch",{staticClass:"ks-fl",model:{value:e.flag,callback:function(a){t.$set(e,"flag",a)},expression:"item.flag"}})],1)]),t._v(" "),a("div",{staticClass:"accountList-info"},[a("span",[t._v(t._s(e.group_name))])]),t._v(" "),a("div",{staticClass:"accountList-infos"},[a("span",[t._v("推荐人："+t._s(e.inviter))])])])}),t._v(" "),t.list.length?t._e():a("ks-empty",{attrs:{msg:"当前没有任何数据~"}})],2)],1):t._e()},staticRenderFns:[]};var c=a("C7Lr")(n,i,!1,function(t){a("j1/J")},"data-v-eefb2396",null);e.default=c.exports},"j1/J":function(t,e){}});