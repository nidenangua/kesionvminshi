webpackJsonp([24],{"9Ljj":function(t,i){},zLmR:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("0xDb"),n=s("rVsN"),a=s.n(n),o=s("60kx");var r={name:"MyDistribution",data:function(){return{windowHeight:window.innerHeight,shareFlag:!1,openid:"",realyname:"",withdrawalVisible:!1,tabActive:0,currentIncome:"",wrz:"",allMoney:"",kjs:"",myDistributton:{p:1,pageCount:null,loaded:!1,list:[]},distributeList:{p:1,pageCount:null,loaded:!1,list:[]}}},methods:{showTab:function(t){this.tabActive=t,this.getList()},handleClick:function(t){this[0==t?"distributeList":"myDistributton"].loaded||this.getList()},goWithdrawal:function(){var t=this;parseFloat(this.kjs)>0?this.$store.ready(function(i){var s;new a.a(function(t){Object(o.b)("Distribution.Common.checkApplyBindWechat",s,{isErrorCall:!0}).then(function(i){t(i)})}).then(function(s){"success"===s.result?(t.openid=s.openid,t.realyname=s.name,t.withdrawalVisible=!0):t.$toast(s.msg).then(function(){var t=location.href.split("#")[1];s.authorurl+="&wxid="+i.info.wxid+"&turnurl="+t,location.href=s.authorurl})})}):this.$toast("没有可结算的余额！","tips",2e3)},withdrawalSubmit:function(){var t,i=this;(t={realyname:this.realyname,openid:this.openid},new a.a(function(i){Object(o.b)("Distribution.Common.applyDistributeWithdrawal",t).then(function(t){i(t)})})).then(function(t){"success"===t.result&&i.$toast("提交成功","success").then(function(){i.kjs=t.balance,i.withdrawalVisible=!1})})},share:function(t){var i=this;this.$store.ready(function(s){if(0==s.isLogin)i.$toast("请先登录").then(function(){i.$router.push({name:"UserLogin"})});else{var n=Object(e.d)(t.type),a="课程"===n?"门":"个";i.currentIncome=t.commission;var o=Object(e.e)(t,"id"),r=location.href.split("#")[0]+"#"+o+"?distributeUserId="+s.userInfo.userid;i.$wxShare({title:t.title,desc:"这"+a+n+"不错，快来跟我一起学~",imgUrl:t.defaultpic,link:r}),i.$showMask({click:function(){i.shareFlag=!1,i.$hideMask()}}),i.shareFlag=!0}})},open:function(t){var i=Object(e.e)(t,"id");this.$router.push({path:i})},getList:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments[1];this.$showLoading();var e,n=0==this.tabActive?"distributeList":"myDistributton";this[n].p=i,1==i&&(this[n].loaded=!1,this[n].list=[]),0==this.tabActive&&(e={p:i,maxperpage:10,title:this.$route.query.key||""},new a.a(function(t){Object(o.b)("Distribution.Common.distributionList",e).then(function(i){t(i)})})).then(function(i){console.log(i),t.distributeList.pageCount=i.page.total_pages,t.distributeList.list=i.list,t.distributeList.loaded=!0,t.$hideLoading()}),(1==this.tabActive||s)&&function(t){return new a.a(function(i){Object(o.b)("Distribution.Common.myDistributeList",t).then(function(t){i(t)})})}({p:i,maxperpage:10}).then(function(i){console.log(i),t.wrz=i.djs||"0.00",t.allMoney=i.allmoney||"0.00",t.kjs=i.kjs||"0.00",t.myDistributton.pageCount=i.page.total_pages,t.myDistributton.list=i.list,t.myDistributton.loaded=!0,t.$hideLoading()})}},mounted:function(){var t=this;window.addEventListener("resize",function(){t.windowHeight=window.innerHeight})},activated:function(){document.title="我的分销",this.getList(1,!0)}},c={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"myDistribution"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticStyle:{height:"20px",background:"#F8F8F8"}}),t._v(" "),s("div",{staticClass:"myDistribution-tab"},[s("div",{staticClass:"myDistribution-tab__box"},[s("span",{class:{active:0==t.tabActive},on:{click:function(i){return t.showTab(0)}}},[t._v("推广赚钱")]),t._v(" "),s("span",{class:{active:1==t.tabActive},on:{click:function(i){return t.showTab(1)}}},[t._v("我的收益")]),t._v(" "),s("span",{class:{active:2==t.tabActive},on:{click:function(i){return t.showTab(2)}}},[t._v("提现记录")])])]),t._v(" "),0==t.tabActive?s("div",{staticClass:"myDistribution-extension"},[s("el-row",{attrs:{gutter:42}},t._l(t.distributeList.list,function(i,e){return s("el-col",{key:e,attrs:{span:8}},[s("div",{staticClass:"myDistribution-extension__box"},[s("div",{staticClass:"myDistribution-extension__image"},[s("ks-image",{attrs:{src:i.defaultpic,fit:"cover"}}),t._v(" "),s("i",[t._v("图文")])],1),t._v(" "),s("h2",[t._v(t._s(i.title))]),t._v(" "),s("p",[t._v("共 1 课时 | "+t._s(i.studentcount)+"人学过")]),t._v(" "),s("div",{staticClass:"myDistribution-extension__price"},[t._v("\n\t\t\t\t\t\t￥"+t._s(i.price)+"\n\t\t\t\t\t\t"),s("span",[t._v("推广赚￥59.00")])])])])}),1)],1):1==t.tabActive?s("div",{staticClass:"myDistribution-income"},t._l(t.myDistributton.list,function(i,e){return s("div",{key:e},[t._m(2,!0),t._v(" "),s("div",{staticClass:"myDistribution-income__text"},[s("div",{staticClass:"myDistribution-income__courseName"},[t._v(t._s(i.title))]),t._v(" "),s("div",{staticClass:"myDistribution-income__name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"myDistribution-income__date"},[t._v("2019-06-13 17:31:14")]),t._v(" "),s("div",{staticClass:"myDistribution-income__state"},[t._v("待支付")]),t._v(" "),s("div",{staticClass:"myDistribution-income__money"},[t._v("+"+t._s(i.price))])])])}),0):2==t.tabActive?s("div",{staticClass:"myDistribution-withdrawRecord"},[t._m(3),t._v(" "),t._m(4)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"myDistribution-top"},[i("h1",[this._v("我的分销")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"myDistribution-record"},[s("div",{staticClass:"myDistribution-record__item"},[s("span",[t._v("累计收益")]),t._v(" "),s("h2",[t._v("￥16583.00")])]),t._v(" "),s("i"),t._v(" "),s("div",{staticClass:"myDistribution-record__item"},[s("span",[t._v("未入账")]),t._v(" "),s("h2",[t._v("￥500.00")])]),t._v(" "),s("i"),t._v(" "),s("div",{staticClass:"myDistribution-record__item"},[s("span",[t._v("可提现金额")]),t._v(" "),s("div",{staticClass:"myDistribution-record__withdraw"},[t._v("\n\t\t\t\t￥684.00\n\t\t\t\t"),s("span",[t._v("提现")])])])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"myDistribution-income__title"},[s("div",{staticClass:"myDistribution-income__courseName"},[t._v("课程名称")]),t._v(" "),s("div",{staticClass:"myDistribution-income__name"},[t._v("购买人")]),t._v(" "),s("div",{staticClass:"myDistribution-income__date"},[t._v("下单时间")]),t._v(" "),s("div",{staticClass:"myDistribution-income__state"},[t._v("订单状态")]),t._v(" "),s("div",{staticClass:"myDistribution-income__money"},[t._v("收益（元）")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"myDistribution-withdrawRecord__title"},[s("div",{staticClass:"myDistribution-withdrawRecord__date"},[t._v("提现时间")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__method"},[t._v("提现方式")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__number"},[t._v("提现账号")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__money"},[t._v("提现金额")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__state"},[t._v("状态")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"myDistribution-withdrawRecord__text"},[s("div",{staticClass:"myDistribution-withdrawRecord__date"},[t._v("2019-06-13 17:45:14")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__method"},[t._v("微信")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__number"},[t._v("1388888888888")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__money"},[t._v("￥100.00")]),t._v(" "),s("div",{staticClass:"myDistribution-withdrawRecord__state"},[t._v("已到账")])])}]};var _=s("C7Lr")(r,c,!1,function(t){s("9Ljj")},"data-v-55d599f9",null);i.default=_.exports}});