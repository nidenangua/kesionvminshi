webpackJsonp([22],{YOos:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("vMJZ"),i={name:"Announcement",data:function(){return{reload:!0,tab:0,activeNames:[],list:[],noticeDetail:"",pageCount:null}},methods:{showTab:function(t){this.tab=t},handleChange:function(t){console.log(t)},getNoticeList:function(){var t=this;this.$showLoading("#user"),Object(a.j)({p:1,maxperpage:10}).then(function(e){console.log(e),e.list.map(function(t){t.noticeDetail="",t.loaded=!1}),t.list=e.list,t.pageCount=10*e.page.total_pages,t.$hideLoading("#user")})},getNoticeDetail:function(t){var e=this;""==t.noticeDetail&&(this.$showLoading("#noticeDetail"),Object(a.i)({id:t.id}).then(function(n){console.log(n),"success"==n.result&&(t.noticeDetail=n.detail.content,t.loaded=!0,e.$hideLoading("#noticeDetail"))}))}},mounted:function(){this.getNoticeList()}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"announcement"},[n("div",{staticClass:"announcement-top"},[n("h1",[t._v("消息公告")]),t._v(" "),n("div",{staticClass:"announcement-top__box"},[n("div",{staticClass:"announcement-top__tab"},[n("span",{class:{active:1==t.tab},on:{click:function(e){return t.showTab(1)}}},[t._v("公告")])])])]),t._v(" "),t.reload?n("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.list,function(e,a){return n("el-collapse-item",{key:a,attrs:{name:a}},[n("template",{slot:"title"},[n("div",{staticClass:"announcement-item",on:{click:function(n){return t.getNoticeDetail(e)}}},[n("span",{staticClass:"fl"},[t._v(t._s(e.title))]),t._v(" "),n("i",{staticClass:"fr"},[t._v(t._s(e.adddate))])])]),t._v(" "),n("div",{staticClass:"ks-ml20 ks-mr20",attrs:{id:"noticeDetail"}},[t._v(t._s(e.noticeDetail))])],2)}),1):t._e(),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[t.pageCount>0?n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageCount},on:{"current-change":t.getNoticeList}}):n("ks-empty",{attrs:{msg:"该分类下暂无消息公告"}})],1)],1)},staticRenderFns:[]};var o=n("C7Lr")(i,s,!1,function(t){n("ZaXw")},"data-v-73df505d",null);e.default=o.exports},ZaXw:function(t,e){}});